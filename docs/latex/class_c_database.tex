\hypertarget{class_c_database}{}\doxysection{CDatabase Class Reference}
\label{class_c_database}\index{CDatabase@{CDatabase}}


SQL Database Class.  


Inheritance diagram for CDatabase\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_c_database}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_c_database_ae634ed8a9dbf6a42c130bfc7cc9f930d}\label{class_c_database_ae634ed8a9dbf6a42c130bfc7cc9f930d}} 
QString {\bfseries init} ()
\item 
\mbox{\Hypertarget{class_c_database_a777a4a6606221878693bc18c3c6b8e7f}\label{class_c_database_a777a4a6606221878693bc18c3c6b8e7f}} 
string {\bfseries get\+Hash} (string id, QString $\ast$get\+\_\+err)
\item 
\mbox{\Hypertarget{class_c_database_a1242e4e5aa5380b55a095f3c12dc21dc}\label{class_c_database_a1242e4e5aa5380b55a095f3c12dc21dc}} 
QString {\bfseries new\+User} (string uuid, string pseudo, string mail, string password)
\item 
\mbox{\Hypertarget{class_c_database_a64ece2c3aabfbda466b2ec96dd3219fb}\label{class_c_database_a64ece2c3aabfbda466b2ec96dd3219fb}} 
QString {\bfseries update\+User} (string uuid, string pseudo, string mail, string description)
\item 
\mbox{\Hypertarget{class_c_database_a01b11ecd65af11cabe110a3c08bbadfa}\label{class_c_database_a01b11ecd65af11cabe110a3c08bbadfa}} 
QString {\bfseries update\+Description} (string uuid, string description)
\item 
\mbox{\Hypertarget{class_c_database_a34bd419cb3079b1ade08863f1e83cd7c}\label{class_c_database_a34bd419cb3079b1ade08863f1e83cd7c}} 
QString {\bfseries update\+Username} (string uuid, string username)
\item 
\mbox{\Hypertarget{class_c_database_aef71f747b62d4cd4d877ca8be77d9693}\label{class_c_database_aef71f747b62d4cd4d877ca8be77d9693}} 
QString {\bfseries change\+Password} (string mail, string uuid, string password, string new\+Pass)
\item 
\mbox{\Hypertarget{class_c_database_a7364a62e196fa591a25f0247a39ae09a}\label{class_c_database_a7364a62e196fa591a25f0247a39ae09a}} 
QString {\bfseries update\+Channel} (string id, string name, string maxuser)
\item 
\mbox{\Hypertarget{class_c_database_a005ba90ad1e2444b9bcab9b28a15be1f}\label{class_c_database_a005ba90ad1e2444b9bcab9b28a15be1f}} 
QString {\bfseries delete\+User} (string uuid)
\item 
\mbox{\Hypertarget{class_c_database_aa9d1adbcb6c18fa0903272bbd6a628dd}\label{class_c_database_aa9d1adbcb6c18fa0903272bbd6a628dd}} 
QString {\bfseries delete\+Channel} (string id)
\item 
\mbox{\Hypertarget{class_c_database_a78eef5955e27f7ff1953dbb0de04dfd6}\label{class_c_database_a78eef5955e27f7ff1953dbb0de04dfd6}} 
QList$<$ \mbox{\hyperlink{class_c_channel}{CChannel}} $\ast$ $>$ {\bfseries parse\+Channel} ()
\item 
\mbox{\Hypertarget{class_c_database_a4f202ba918b3df4fbdf52f38c5ed9d8b}\label{class_c_database_a4f202ba918b3df4fbdf52f38c5ed9d8b}} 
QList$<$ \mbox{\hyperlink{class_c_client}{CClient}} $\ast$ $>$ {\bfseries parse\+Client} ()
\item 
\mbox{\Hypertarget{class_c_database_a08f78c95d361ae302c8d7b00d757d9bb}\label{class_c_database_a08f78c95d361ae302c8d7b00d757d9bb}} 
\mbox{\hyperlink{class_c_client}{CClient}} $\ast$ {\bfseries parse\+Client} (string email, QString $\ast$get\+\_\+err)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
SQL Database Class. 

This class represente the main database (My\+SQL/\+Maria\+DB) and its function using mariadb connector lib \begin{DoxyAuthor}{Author}
Valentin Monnot (Lock\+Vox Team) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+2.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2021 
\end{DoxyDate}
\begin{DoxyNote}{Note}
db.\+cnf in \char`\"{}\%\+LOCKVOX\+\_\+\+SERVER\+\_\+\+ROOT\+\_\+\+DIR\%/storage/conf/\char`\"{} use 4 parameter, all of them should be there even if not used ! ~\newline
 Order is important ! If you didn\textquotesingle{}t use one of the parameter, default value will be applied, except for MY\+\_\+\+PASSWORD. For user security you should never use a database without password... ~\newline
 Exemple with default values \+: ~\newline
 MY\+\_\+\+HOSTNAME=127.\+0.\+0.\+1 ~\newline
 MY\+\_\+\+DATABASE=lockvox\+\_\+server ~\newline
 MY\+\_\+\+USERNAME=lockvox ~\newline
 MY\+\_\+\+PASSWORD=changeme ~\newline
 If no configuration file found when starting the server, it will automaticcaly create a db.\+cnf file with these default values. After what server will close telling you that its default values and you should change them. 
\end{DoxyNote}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000003}{Bug}}]In db configuration file, if MY\+\_\+\+HOSTNAME=domain\+Name.\+something Maria\+DB connector didn\textquotesingle{}t recognize it as an address and use your ip address, i don\textquotesingle{}t f$\ast$$\ast$$\ast$ing know why. All work great if MY\+\_\+\+HOSTNAME is hardcoded or if you use a standard IPV4 address in configuration file \end{DoxyRefDesc}
\begin{DoxyWarning}{Warning}
DEV\+\_\+\+DB is our Maria\+DB database used for testing purpose, only fake account with troll username/password should be used on this database as everyone with an internet connection could access it ! if you just want to test, use account \char`\"{}test\char`\"{} with password \char`\"{}test\char`\"{}. If you want to use your own Maria\+DB/\+My\+SQL database, we advise you to NOT hardcode your database credential. You should go in \char`\"{}config.\+h\char`\"{} and comment \#define DEV\+\_\+\+DB so you can use db.\+cnf file to configure your own DB. 
\end{DoxyWarning}
\begin{DoxyRemark}{Remarks}

\end{DoxyRemark}
\begin{DoxyCopyright}{Copyright}
GNU GPL-\/3.\+0 
\end{DoxyCopyright}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Lock\+Vox/\+Server/includes/\mbox{\hyperlink{cdatabase_8h}{cdatabase.\+h}}\item 
Lock\+Vox/src/cdatabase.\+cpp\end{DoxyCompactItemize}
